#  `scanf()`

空白 whitespace 包括：
- 空格 space (`' '`)
- 制表符 TAB (`'\t'`)
- 换行符 newline (`'\n'`)

只有 `"%c"`、`"%n"`、`"%[]"` 这三个不忽略前导空白！其他的都忽略前导空白！

不同的「格式字符串」的行为：

- `%d`、`%f` 等 number 类型：跳过前导空白，读入相应 number。含正负号。遇到不合法的字符或空白分隔时停止。
- `%s` 字符串类型：跳过前导空白，读入相应字符串。遇到空自分隔时停止。
- `%c` 单个字符：不跳过空白！读入第一个遇到的字符，即使它是空白。
- 空白：匹配、读入并扔掉输入流中的所有空白，直到遇见非空白字符。（注意，format string 中的单个空白字符，可匹配输入流中0个或任意多个空白字符。）起到了跳过输入流中的任意空白的作用。
- 其他非空白字符：要精确匹配。逐个字符读入，一旦发现不匹配就停止。

通常，读入 number 或 string 时，`scanf()` 的格式字符串中，不需用空格隔开，也不要加其他字符。如 `%d%d`。输入流中，用一个或多个空白做分隔，读取时会自动跳过前导空白。

若多个「输入控制符」间加了空白，也没关系，跟没加一样，因为它显式让 `scanf()` 跳过输入流里的 0 个或多个空白，跟默认跳过空白的效果一样。

但若多个「输入控制符」间加了其他非空白字符（如逗号），则在输入流中，逗号要原样输入，有几个就要输入几个，少一个或多一个都不行。

例如
```cpp
    int i, j;
    scanf("%d,%d", &i, &j);
    printf("i = %d, j = %d\n", i, j);
```
输入 | 输出
---- | ----
`3, 6` | `i = 3, j = 6`
`3 6` | `i = 3, j = 32766` 错误
`3,    6` | `i = 3, j = 6`
`3  ,  6` | `i = 3, j = 32766` 错误

注意，两处错误，`scanf()` 读取失败，未给 j 赋值，所以 j 的值都是未初始化时的值。

读入数字时，遇到非法字符时停止。例：

```cpp
    int a = 3; 
    char str[100]; 
    int n = scanf("%d%s", &a, str);
```

若输入为 `"12hello"`，则读 a 时遇到字符h停止，此前读到的 12 赋给 a；然后读 str 时读到了剩下的 hello。

但读入单个字符时，要注意。如果希望单个字符用空白与其他输入隔开，要在格式字符串中加上相应字符，如 `%d %c`，输入数字与字符间有空格。更一般地，通常在 `%c` 前面加空格，以跳过用来分隔的空白。

```cpp
    char ch;
    scanf(" %c", &ch);
```

例：OJ-234 (字符替换): 只有一行，由一个字符串和两个字符组成，中间用单个空格隔开。
```cpp
    char a[100 + 1];
    char b, c;
    scanf("%s %c %c", a, &b, &c);
```

# 返回值

`printf()` 的返回值：打印出的字符的个数。失败时，返回一个负数。

`scanf()` 的返回值：成功扫描的 item 的个数，或 `EOF`。`EOF` 在 `<cstdio>` 中定义为 `-1`。

例：

```cpp
    int n = 123456789;
    int r1 = printf("%d", n);
    int r2 = printf("n = %d\n", n);
    printf("r1 = %d, r2 = %d\n", r1, r2);
    // 输出 r1 = 9, r2 = 14.

    char a[100], b[100], c[100];
    printf("first : %d\n", scanf("%s", a));
    printf("second: %d\n", scanf("%s%s", a, b));
    printf("third : %d\n", scanf("%s%s%s", a, b, c));
    // 分别输出 1, 2, 3

    int n, a, b;
    n = scanf("%d%d", &a, &b);
    // 若输入为「256 89」，则a、b都成功读取，n为2；
    // 若输入为「123abc」，则a成功读取，b失败，n为1.
```

# 读入单个字符 

```cpp
    char ch = getchar();
```
读取一个任意字符，包括空格、tab、换行等。出错时返回 `EOF` (`-1`)。

```cpp
    char ch;
    scanf("%c", ch);
```
读取一个任意字符，包括空格、tab、换行等。

```cpp
    char ch;
    scanf(" %c", ch);
```
跳过空白，读取第一个非空白字符。

```cpp
    char ch;
    cin >> ch;
```
跳过空白，读取第一个非空白字符。Cin缺省跳过空白。

```cpp
    char ch = cin.get()
```
读取一个任意字符，包括空格、tab、换行等。

```cpp
    char ch;
    cin.get(ch);
```
读取一个任意字符，包括空格、tab、换行等。

# 读入字符串

`scanf()` 可以读入 `char[]`。

`scanf()` 不能读入 `std::string` 类型。

```cpp
    string s;

    // 以下两种方式，编译时就报错
    scanf("%s", s);  // wrong
    scanf("%s", &s); // wrong

    // 这种方法，编译不会报错，也可能运行，但s对应的内存
    // 空间不确定，运行时可能会产生 segmentation fault.
    scanf("%s", &s[0]);  // bad

    // 下面的方法可工作，但属于奇技淫巧，不用学
    std::string str(100, ' ');
    scanf("%100s", &str[0]);
    scanf("%100s", s.c_str());
    str.resize(strlen(str.c_str()));
```

# 一直读入，直到没有输入

```cpp
    while (scanf("%d", &n) != EOF) { ... }
    // 或者
    while (scanf("%d", &n) > 0) { ... }
```

# misc

`putchar(c)`: 输出一个字符。

`puts()` 会自动添加换行符。

cin: 字符串前不加取址符（`&`）; 多个字符串以空格或换行符分隔；所以无法读入带空格的字符串。

一行代码读入数组n个元素
```cpp
    for (int i = 0; i < n; scanf("%d", &arr[i++]));
```
